<!doctype html>
<html lang="ms">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Proton Baharu – Ansuran Mudah | Haziq</title>
  <meta name="description" content="Beli kereta Proton baharu dengan ansuran mudah. Proses pantas, trade-in diterima. Hubungi Haziq 016-268 4721."/>
  <style>
    /* =====================
       Design System (Light)
       ===================== */
    :root{
      --bg:#f7fafc;           /* Page background */
      --surface:#ffffff;       /* Cards & sections */
      --ink:#0f172a;           /* Primary text */
      --muted:#475569;         /* Secondary text */
      --line:#e2e8f0;          /* Lines */
      --brand:#16a34a;         /* Primary (green) */
      --brand-2:#2563eb;       /* Accent (blue) */
      --ring: rgba(37,99,235,.25);
      --radius:16px;
      --shadow:0 8px 28px rgba(2,6,23,.08);
      --maxw:1140px;
    }

    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji"}
    img{display:block;max-width:100%;height:auto}
    a{color:inherit;text-decoration:none}
    .wrap{max-width:var(--maxw);margin:0 auto;padding:0 20px}

    /* =====================
       Header / Navigation
       ===================== */
    header{position:sticky;top:0;z-index:50;background:rgba(255,255,255,.86);backdrop-filter:saturate(180%) blur(8px);border-bottom:1px solid var(--line)}
    .nav{display:flex;align-items:center;justify-content:space-between;gap:16px;padding:12px 0}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:36px;height:36px;border-radius:10px;background:linear-gradient(145deg,var(--brand-2),var(--brand));box-shadow:inset 0 0 0 2px rgba(255,255,255,.6)}
    .brand b{letter-spacing:.2px}

    .btn{display:inline-flex;align-items:center;justify-content:center;padding:12px 16px;border-radius:12px;border:1px solid var(--line);background:#fff;gap:10px;font-weight:600;cursor:pointer}
    .btn:hover{box-shadow:0 4px 18px rgba(2,6,23,.08)}
    .btn:focus-visible{outline:3px solid var(--ring);outline-offset:2px}
    .btn.primary{background:var(--brand);color:#fff;border-color:transparent}
    .btn.primary:hover{filter:brightness(0.98)}
    .btn.ghost{background:transparent}

    /* =====================
       Hero
       ===================== */
    .hero{padding:32px 0 12px;border-bottom:1px solid var(--line)}
    .hero-inner{display:grid;grid-template-columns:1.1fr .9fr;gap:28px;align-items:center}
    @media (max-width: 980px){.hero-inner{grid-template-columns:1fr;gap:20px}}

    .pill{display:inline-flex;align-items:center;gap:10px;padding:8px 12px;border-radius:999px;border:1px solid var(--line);color:var(--muted);background:#fff;font-size:12.5px}
    .h-title{font-size: clamp(28px, 4.8vw, 44px);line-height:1.08;margin:12px 0 8px}
    .h-sub{color:var(--muted);font-size: clamp(14px, 2.2vw, 18px);margin:0}
    .hero-cta{display:flex;gap:12px;flex-wrap:wrap;margin-top:18px}
    .ticks{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px;color:var(--muted);font-size:14px}
    .chips{display:flex;gap:8px;flex-wrap:wrap}
    .chip{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:#f1f5f9;border:1px solid var(--line);font-size:12.5px;color:#0f172a}

    /* =====================
       Slider (accessible)
       ===================== */
    .slider{position:relative;border-radius:18px;overflow:hidden;background:#000;box-shadow:var(--shadow)}
    .slides{display:flex;transition:transform .6s cubic-bezier(.22,.61,.36,1)}
    .slide{min-width:100%;aspect-ratio:16/9;position:relative}
    .slide img{width:100%;height:100%;object-fit:cover}
    .s-nav{position:absolute;inset:0;display:flex;align-items:center;justify-content:space-between;padding:0 8px;pointer-events:none}
    .s-btn{pointer-events:auto;width:42px;height:42px;border-radius:999px;display:grid;place-items:center;background:rgba(255,255,255,.78);border:1px solid var(--line)}
    .s-btn:hover{background:#fff}
    .s-dots{position:absolute;left:0;right:0;bottom:10px;display:flex;gap:8px;justify-content:center}
    .dot{width:9px;height:9px;border-radius:999px;background:rgba(15,23,42,.25)}
    .dot.active{background:#0f172a}

    /* =====================
       Sections
       ===================== */
    section{padding:56px 0}
    h2{font-size: clamp(22px, 4.2vw, 34px);margin:0 0 8px}
    .sub{color:var(--muted);margin:0 0 18px}

    /* Models */
    .models{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    @media (max-width: 980px){.models{grid-template-columns:1fr 1fr}}
    @media (max-width: 640px){.models{grid-template-columns:1fr}}
    .card{background:var(--surface);border:1px solid var(--line);border-radius:16px;overflow:hidden;box-shadow:var(--shadow);transition:transform .18s ease}
    .card:hover{transform:translateY(-2px)}
    .card .pic{aspect-ratio:16/9;background:#0a0f1a}
    .card .body{padding:14px 14px 16px}
    .price{font-weight:800;font-size:20px;margin:8px 0 2px}
    .meta{color:var(--muted);font-size:14px}
    .specs{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}

    /* Perks */
    .perks{display:grid;grid-template-columns:repeat(5,1fr);gap:12px}
    @media (max-width: 980px){.perks{grid-template-columns:1fr 1fr 1fr}}
    @media (max-width: 640px){.perks{grid-template-columns:1fr 1fr}}
    .perk{padding:14px;border-radius:14px;background:#fff;border:1px solid var(--line);box-shadow:var(--shadow)}

    /* Steps */
    .steps{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
    @media (max-width: 980px){.steps{grid-template-columns:1fr 1fr}}
    @media (max-width: 640px){.steps{grid-template-columns:1fr}}
    .step{padding:16px;border-radius:14px;background:#fff;border:1px dashed #cbd5e1}

    /* Testimonials */
    .testi{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    @media (max-width: 980px){.testi{grid-template-columns:1fr 1fr}}
    @media (max-width: 640px){.testi{grid-template-columns:1fr}}
    .q{padding:16px;border-radius:14px;background:#fff;border:1px solid var(--line);box-shadow:var(--shadow)}

    /* Promo */
    .promo{display:grid;grid-template-columns:2fr 1fr;gap:16px}
    @media (max-width: 980px){.promo{grid-template-columns:1fr}}
    .countdown{display:flex;gap:10px}
    .cd{min-width:72px;text-align:center;padding:10px;border-radius:12px;background:#fff;border:1px solid var(--line);box-shadow:var(--shadow)}

    /* FAQ */
    details{background:#fff;border:1px solid var(--line);border-radius:12px;padding:12px}
    details+details{margin-top:10px}
    summary{cursor:pointer;font-weight:600}

    /* About */
    .about{display:grid;grid-template-columns:auto 1fr;gap:16px;align-items:center}
    @media (max-width: 640px){.about{grid-template-columns:1fr}}
    .avatar{width:76px;height:76px;border-radius:16px;overflow:hidden;background:#eef2ff;border:1px solid var(--line)}
    .avatar img{width:100%;height:100%;object-fit:cover}

    /* Final CTA */
    .final-cta{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;padding:16px;border-radius:14px;background:linear-gradient(120deg,rgba(22,163,74,.08),rgba(37,99,235,.08));border:1px solid var(--line);box-shadow:var(--shadow)}

    /* Footer */
    footer{padding:22px 0;color:var(--muted);font-size:14px;border-top:1px solid var(--line)}

    /* Sticky CTA (Mobile) */
    .sticky-cta{position:fixed;bottom:12px;left:12px;right:12px;z-index:60;display:none}
    .sticky-cta .btn{width:100%;padding:16px;font-weight:800}
    @media (max-width: 980px){.sticky-cta{display:block}}

    /* Accessibility & Motion */
    :focus-visible{outline:3px solid var(--ring);outline-offset:2px}
    @media (prefers-reduced-motion: reduce){
      .slides{transition:none}
      .card{transition:none}
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap nav">
      <div class="brand">
        <div class="logo" aria-hidden="true"></div>
        <div>
          <b>Proton by Haziq</b><br>
          <small style="color:var(--muted)">Sales Advisor • 016-268 4721</small>
        </div>
      </div>
      <div class="cta">
        <a class="btn ghost" href="#models">Lihat Model</a>
        <a class="btn primary wa" href="#" data-text="Hai Haziq, saya berminat nak dapatkan promosi kereta Proton terkini. Boleh kongsikan maklumat?">WhatsApp Haziq</a>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="wrap hero-inner">
      <div>
        <span class="pill">Dealer Sah • Proses Pantas • Trade‑In Diterima</span>
        <h1 class="h-title">Proton Baharu – Ansuran Serendah <span style="color:var(--brand)">RMXXX</span>/Bulan. Mohon Sekarang!</h1>
        <p class="h-sub">Pakej ansuran mudah, proses cepat, dan kereta terus sampai ke tangan anda. Hubungi <b>Haziq</b> untuk tawaran istimewa hari ini.</p>
        <div class="hero-cta">
          <a class="btn primary wa" href="#" data-text="Hai Haziq, saya berminat nak dapatkan promosi kereta Proton terkini. Boleh kongsikan maklumat?">WhatsApp Haziq Sekarang</a>
          <a class="btn" href="#process">Lihat Proses</a>
        </div>
        <div class="ticks">
          <div class="chips">
            <span class="chip">✔ Ansuran fleksibel</span>
            <span class="chip">✔ Kelulusan pantas*</span>
            <span class="chip">✔ Waranti rasmi Proton</span>
          </div>
        </div>
      </div>

      <!-- Slider 3 Gambar -->
      <div class="slider" id="slider" aria-roledescription="carousel" aria-label="Galeri model Proton">
        <div class="slides" id="slides">
          <!-- Slides injected by JS from PLACEHOLDERS.slider -->
        </div>
        <div class="s-nav" aria-hidden="false">
          <button class="s-btn" aria-label="Slaid sebelumnya" data-dir="-1">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15 6l-6 6 6 6" stroke="#0f172a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
          <button class="s-btn" aria-label="Slaid seterusnya" data-dir="1">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 18l6-6-6-6" stroke="#0f172a" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </button>
        </div>
        <div class="s-dots" id="dots" role="tablist" aria-label="Pilih slaid">
          <!-- Dots injected by JS -->
        </div>
      </div>
    </div>
  </section>

  <!-- PILIHAN MODEL & HARGA -->
  <section id="models">
    <div class="wrap">
      <h2>Pilihan Model & Harga</h2>
      <p class="sub">Pilih model Proton pilihan anda. Ansuran bulanan bergantung pada deposit, kadar, dan kelayakan.</p>
      <div class="models" id="modelsGrid">
        <!-- Model cards injected by JS from PLACEHOLDERS.models -->
      </div>
    </div>
  </section>

  <!-- KALKULATOR RINGKAS (placeholder UI sahaja) -->
  <section id="calc">
    <div class="wrap">
      <h2>Kalkulator Kelayakan Ringkas</h2>
      <p class="sub">Masukkan anggaran untuk lihat julat ansuran. Untuk pengiraan tepat, hubungi Haziq.</p>
      <div class="card" style="padding:16px">
        <form id="calcForm" style="display:grid;grid-template-columns:repeat(4,1fr);gap:12px">
          <label>Gaji Bersih (RM)<br><input name="gaji" type="number" min="0" required style="width:100%;padding:12px;border-radius:10px;border:1px solid var(--line)"></label>
          <label>Komitmen Bulanan (RM)<br><input name="komitmen" type="number" min="0" required style="width:100%;padding:12px;border-radius:10px;border:1px solid var(--line)"></label>
          <label>Deposit (RM)<br><input name="deposit" type="number" min="0" value="0" style="width:100%;padding:12px;border-radius:10px;border:1px solid var(--line)"></label>
          <label>Tempoh (tahun)<br><input name="tahun" type="number" min="5" max="9" value="7" style="width:100%;padding:12px;border-radius:10px;border:1px solid var(--line)"></label>
          <div style="grid-column:1/-1;display:flex;gap:10px;flex-wrap:wrap;align-items:center">
            <button type="submit" class="btn">Kira Anggaran</button>
            <a id="sendWA" class="btn primary" href="#">Hantar Ke WhatsApp Haziq</a>
            <span style="color:var(--muted)" id="calcOut">Isi maklumat untuk melihat anggaran.</span>
          </div>
        </form>
      </div>
    </div>
  </section>

  <!-- KELEBIHAN -->
  <section id="perks">
    <div class="wrap">
      <h2>Kelebihan Beli Dengan Kami</h2>
      <div class="perks">
        <div class="perk">✅ Ansuran fleksibel & rendah</div>
        <div class="perk">✅ Proses lulus cepat*</div>
        <div class="perk">✅ Trade‑in diterima</div>
        <div class="perk">✅ Free gift/servis terpilih</div>
        <div class="perk">✅ Waranti rasmi Proton</div>
      </div>
      <p class="sub">*Bergantung pada kelayakan & dokumen.</p>
    </div>
  </section>

  <!-- PROSES -->
  <section id="process">
    <div class="wrap">
      <h2>Proses Permohonan</h2>
      <div class="steps">
        <div class="step"><b>1.</b> Pilih model & WhatsApp Haziq</div>
        <div class="step"><b>2.</b> Hantar dokumen ringkas (IC, slip gaji, bank statement)</div>
        <div class="step"><b>3.</b> Semakan kelayakan & kelulusan</div>
        <div class="step"><b>4.</b> Tandatangan & serahan kereta 🚗</div>
      </div>
    </div>
  </section>

  <!-- TESTIMONI -->
  <section id="testi">
    <div class="wrap">
      <h2>Testimoni & Bukti Serahan</h2>
      <div class="testi">
        <div class="q">“Servis pantas, tak pening dokumen. Terbaik Haziq!” — Amir, Shah Alam ⭐⭐⭐⭐⭐</div>
        <div class="q">“Trade‑in mudah, ansuran ikut bajet. Recommended.” — Aina, PJ ⭐⭐⭐⭐⭐</div>
        <div class="q">“Dapat kereta cepat, komunikasi tiptop.” — Faris, KL ⭐⭐⭐⭐⭐</div>
      </div>
    </div>
  </section>

  <!-- PROMOSI -->
  <section id="promo">
    <div class="wrap">
      <h2>Promosi & Tawaran Semasa</h2>
      <div class="promo">
        <div class="card" style="padding:16px">
          <b>Rebat Musim & Free Gift Terhad</b>
          <p class="sub">Hubungi Haziq untuk senarai promosi terkini mengikut model & stok.</p>
        </div>
        <div class="card" style="padding:16px">
          <b>Countdown Promo</b>
          <div class="countdown" id="countdown" style="margin-top:10px">
            <div class="cd"><div id="cdD">00</div><small>Hari</small></div>
            <div class="cd"><div id="cdH">00</div><small>Jam</small></div>
            <div class="cd"><div id="cdM">00</div><small>Minit</small></div>
            <div class="cd"><div id="cdS">00</div><small>Saat</small></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq">
    <div class="wrap">
      <h2>Soalan Lazim (FAQ)</h2>
      <details><summary>Berapa deposit minimum?</summary><p class="sub">Bergantung model & promosi. Hubungi Haziq untuk kiraan tepat.</p></details>
      <details><summary>Dokumen apa diperlukan?</summary><p class="sub">IC, slip gaji 3 bulan, bank statement 3–6 bulan, EA Form (jika diminta).</p></details>
      <details><summary>Jika ada CCRIS/CTOS?</summary><p class="sub">Kes mengikut semakan bank. Haziq akan bantu beri panduan.</p></details>
      <details><summary>Berapa lama proses?</summary><p class="sub">Kebiasaannya 1–3 hari bekerja selepas dokumen lengkap.</p></details>
    </div>
  </section>

  <!-- ABOUT HAZIQ -->
  <section id="about">
    <div class="wrap">
      <h2>Tentang Haziq</h2>
      <div class="about card" style="padding:16px">
        <div class="avatar"><img id="avatarImg" src="" alt="Haziq - Sales Advisor Proton"></div>
        <div>
          <b>Haziq</b> • Sales Advisor Proton
          <p class="sub" style="margin:6px 0 12px">Berpengalaman membantu pelanggan memilih pakej terbaik mengikut bajet & keperluan. Waktu operasi: Isnin–Ahad, 9 pagi – 9 malam.</p>
          <div style="display:flex;gap:10px;flex-wrap:wrap">
            <a class="btn" href="tel:+60162684721">Telefon: 016-268 4721</a>
            <a class="btn primary wa" href="#" data-text="Hai Haziq, saya berminat nak dapatkan promosi kereta Proton terkini. Boleh kongsikan maklumat?">WhatsApp Haziq</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FINAL CTA -->
  <section id="final">
    <div class="wrap">
      <div class="final-cta">
        <div>
          <b>Stok Terhad – Mohon Sekarang Sebelum Harga Naik!</b>
          <div class="sub">Balasan pantas dalam waktu operasi.</div>
        </div>
        <a class="btn primary wa" href="#" data-text="Hai Haziq, saya berminat nak dapatkan promosi kereta Proton terkini. Boleh kongsikan maklumat?">Mohon Sekarang</a>
      </div>
    </div>
  </section>

  <footer>
    <div class="wrap">
      <div>© <span id="y"></span> Proton by Haziq. Semua harga/ansuran tertakluk kepada kelulusan bank & OTR semasa.</div>
    </div>
  </footer>

  <!-- Sticky CTA (Mobile) -->
  <div class="sticky-cta">
    <a class="btn primary wa" href="#" data-text="Hai Haziq, saya berminat nak dapatkan promosi kereta Proton terkini. Boleh kongsikan maklumat?">WhatsApp Haziq Sekarang</a>
  </div>

  <script>
    // =====================
    // PLACEHOLDERS (Tukar di sini sahaja)
    // =====================
    const PLACEHOLDERS = {
      slider: [
        { src: 'https://i.postimg.cc/nzM92hdX/IMG-20250111-WA0015.jpg', alt: 'Slide 1' },
        { src: 'https://i.postimg.cc/KYGMKNBr/IMG-20250212-WA0025.jpg', alt: 'Slide 2' },
        { src: 'https://i.postimg.cc/SQJv50j8/IMG-20250320-WA0044.jpg', alt: 'Slide 3' },
      ],
      models: [
        { img: 'https://i.postimg.cc/XYKQGSMq/IMG-20250811-WA0046.jpg', title: 'X70', variant: 'Executive', price: 'Anggaran RM1,2XX/bulan', otr: 'Harga OTR anggaran', specs: ['ADAS','Sunroof','360° Camera'] },
        { img: 'https://i.postimg.cc/G3V5nMsf/IMG-20250811-WA0043.jpg', title: 'X50', variant: 'Flagship', price: 'Anggaran RM1,0XX/bulan', otr: 'Harga OTR anggaran', specs: ['Adaptive Cruise','Blind Spot','1.5 TGDi'] },
        { img: 'https://i.postimg.cc/Y23FWr0J/IMG-20250811-WA0045.jpg', title: 'Saga', variant: 'Premium', price: 'Anggaran RM5XX/bulan', otr: 'Harga OTR anggaran', specs: ['ESC','Eco Drive','HU 7"'] },
      ],
      haziqAvatar: 'https://placehold.co/300x300?text=Haziq'
    };

    // ===== Helper: Build WhatsApp link with prefilled text =====
    const WA_NUMBER = '60162684721';
    const buildWA = (text) => `https://wa.me/${WA_NUMBER}?text=${encodeURIComponent(text)}`;

    // Apply to generic .wa buttons
    document.querySelectorAll('.wa').forEach(a=>{
      const msg = a.getAttribute('data-text') || 'Hai Haziq, saya berminat nak dapatkan promosi kereta Proton terkini. Boleh kongsikan maklumat?';
      a.setAttribute('href', buildWA(msg));
      a.setAttribute('target','_blank');
      a.setAttribute('rel','noopener');
    });

    // Inject avatar placeholder
    const avatarImg = document.getElementById('avatarImg');
    if (avatarImg) avatarImg.src = PLACEHOLDERS.haziqAvatar;

    // Build slider from placeholders
    const slidesEl = document.getElementById('slides');
    const dotsEl = document.getElementById('dots');
    slidesEl.innerHTML = PLACEHOLDERS.slider.map((s,i)=>
      `<figure class="slide" aria-roledescription="slide" aria-label="${i+1} daripada ${PLACEHOLDERS.slider.length}">
         <img loading="lazy" src="${s.src}" alt="${s.alt}">
       </figure>`
    ).join('');
    dotsEl.innerHTML = PLACEHOLDERS.slider.map((_,i)=>`<button class="dot" role="tab" aria-selected="${i===0}" aria-controls="slide${i+1}"></button>`).join('');

    // Build model cards from placeholders
    const grid = document.getElementById('modelsGrid');
    grid.innerHTML = PLACEHOLDERS.models.map(m=>`
      <article class="card">
        <div class="pic"><img loading="lazy" src="${m.img}" alt="Proton ${m.title}"></div>
        <div class="body">
          <div class="meta"><b>${m.title} • ${m.variant}</b></div>
          <div class="price">${m.price}</div>
          <div class="meta">${m.otr}</div>
          <div class="specs">${m.specs.map(x=>`<span class="chip">${x}</span>`).join('')}</div>
          <div style="margin-top:12px;display:flex;gap:10px;flex-wrap:wrap">
            <a class="btn wa-model" href="#" data-model="Proton ${m.title} ${m.variant}">Tanya Haziq Model Ini</a>
          </div>
        </div>
      </article>
    `).join('');

    // Apply to model-specific buttons
    document.querySelectorAll('.wa-model').forEach(a=>{
      a.addEventListener('click', (e)=>{
        e.preventDefault();
        const model = a.getAttribute('data-model') || 'Proton';
        const msg = `Hai Haziq, saya berminat model ${model}. Mohon info promosi & ansuran terkini.`;
        window.open(buildWA(msg), '_blank');
      });
    });

    // ===== Slider Logic: autoplay + buttons + dots + keyboard + swipe =====
    (function(){
      const slider = document.querySelector('#slider');
      const track = slider.querySelector('.slides');
      const dots = Array.from(slider.querySelectorAll('.dot'));
      const btns = slider.querySelectorAll('.s-btn');
      const slides = Array.from(slider.querySelectorAll('.slide'));
      let index = 0, timer;

      function go(i){
        index = (i + slides.length) % slides.length;
        track.style.transform = `translateX(-${index*100}%)`;
        dots.forEach((d,k)=>{
          d.classList.toggle('active',k===index);
          d.setAttribute('aria-selected', k===index ? 'true' : 'false');
        });
      }
      function next(dir=1){ go(index+dir); }
      function start(){ timer = setInterval(()=>next(1), 5500); }
      function stop(){ clearInterval(timer); }

      dots.forEach((d,k)=>d.addEventListener('click',()=>{stop();go(k);start();}));
      btns.forEach(b=>b.addEventListener('click',()=>{stop();next(Number(b.dataset.dir));start();}));
      slider.addEventListener('mouseenter',stop);
      slider.addEventListener('mouseleave',start);
      slider.tabIndex = 0;
      slider.addEventListener('keydown',e=>{ if(e.key==='ArrowRight') {stop();next(1);start();} if(e.key==='ArrowLeft'){stop();next(-1);start();} });

      // Touch swipe
      let x0=null; 
      slider.addEventListener('touchstart',e=>{x0 = e.touches[0].clientX; stop();},{passive:true});
      slider.addEventListener('touchend',e=>{ if(x0===null) return; const dx = e.changedTouches[0].clientX - x0; if(Math.abs(dx)>40){ next(dx<0?1:-1); } x0=null; start();});

      go(0); start();
    })();

    // ===== Simple calc (placeholder, untuk anggaran) =====
    document.getElementById('calcForm').addEventListener('submit', function(e){
      e.preventDefault();
      const gaji = Number(this.gaji.value||0);
      const komit = Number(this.komitmen.value||0);
      const deposit = Number(this.deposit.value||0);
      const tahun = Math.min(9, Math.max(5, Number(this.tahun.value||7)));
      const maxBayar = Math.max(0, (gaji - komit) * 0.3); // contoh 30% DSR
      const out = document.getElementById('calcOut');
      const anggaran = maxBayar.toLocaleString('ms-MY', {style:'currency', currency:'MYR'});
      out.textContent = `Anggaran kemampuan bulanan: ${anggaran}. Tempoh ${tahun} tahun. Hubungi Haziq untuk kiraan tepat.`;
    });

    // ===== Kalkulator -> WhatsApp (prefill dengan nilai form) =====
    document.getElementById('sendWA').addEventListener('click', function(e){
      e.preventDefault();
      const f = document.getElementById('calcForm');
      const gaji = Number(f.gaji.value||0);
      const komit = Number(f.komitmen.value||0);
      const deposit = Number(f.deposit.value||0);
      const tahun = Number(f.tahun.value||7);
      const msg = `Hai Haziq, saya berminat nak semak kelayakan Proton.
Gaji bersih: RM${gaji.toLocaleString('ms-MY')}
Komitmen: RM${komit.toLocaleString('ms-MY')}
Deposit: RM${deposit.toLocaleString('ms-MY')}
Tempoh: ${tahun} tahun.
Mohon cadangkan model & ansuran sesuai.`;
      window.open(buildWA(msg), '_blank');
    });

    // ===== Countdown (14 hari dari sekarang) =====
    (function(){
      const target = new Date();
      target.setDate(target.getDate()+14);
      const elD = document.getElementById('cdD');
      const elH = document.getElementById('cdH');
      const elM = document.getElementById('cdM');
      const elS = document.getElementById('cdS');
      function tick(){
        const now = new Date();
        const diff = Math.max(0, target - now);
        const s = Math.floor(diff/1000)%60;
        const m = Math.floor(diff/1000/60)%60;
        const h = Math.floor(diff/1000/60/60)%24;
        const d = Math.floor(diff/1000/60/60/24);
        elD.textContent = String(d).padStart(2,'0');
        elH.textContent = String(h).padStart(2,'0');
        elM.textContent = String(m).padStart(2,'0');
        elS.textContent = String(s).padStart(2,'0');
      }
      tick(); setInterval(tick, 1000);
    })();

    // Footer year
    document.getElementById('y').textContent = new Date().getFullYear();
  </script>
</body>
</html>
